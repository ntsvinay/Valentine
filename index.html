<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For Neha ‚ù§Ô∏è</title>

<style>
body {
  margin: 0;
  font-family: 'Segoe UI', sans-serif;
  background: linear-gradient(135deg, #ff758c, #ff7eb3);
  text-align: center;
  color: white;
}

h1 { margin-top: 40px; }

button {
  background: white;
  color: #ff4d6d;
  border: none;
  padding: 15px 30px;
  font-size: 18px;
  border-radius: 30px;
  cursor: pointer;
  margin-top: 25px;
}

#popup {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.7);
  justify-content: center;
  align-items: center;
}

.popup-box {
  background: white;
  color: #ff4d6d;
  padding: 25px;
  border-radius: 20px;
  width: 85%;
  max-width: 400px;
}
</style>
</head>

<body>

<h1>Happy Valentine Week Neha ‚ù§Ô∏è</h1>
<p>One day. One feeling. One love ‚Äî you üíï</p>

<button onclick="openPopup()">üíù Click for Today‚Äôs Surprise</button>

<!-- üéµ MUSIC -->
<audio id="bgMusic" preload="auto">
  <source src="bollywood.mp3" type="audio/mpeg">
</audio>

<!-- üíå POPUP -->
<div id="popup" onclick="closePopup()">
  <div class="popup-box">
    <h2 id="popupTitle"></h2>
    <p id="popupMessage"></p>
    <small>‚Äî Forever yours, Vinay ‚ù§Ô∏è</small>
  </div>
</div>

<!-- üìß EMAILJS -->
<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>

<script>
/* =========================
   üîë EMAILJS CONFIG
   ========================= */
(function(){
  emailjs.init("W6XZpo4_VXnIXs9XH"); // üî¥ REPLACE
})();

const SERVICE_ID  = "service_559yt1g";   // üî¥ REPLACE
const TEMPLATE_ID = "template_vnwmskh";  // üî¥ REPLACE

const music = document.getElementById("bgMusic");

/* =========================
   üíñ DAY-WISE WISHES
   ========================= */
function getTodayWish() {
  const wishes = {
    7:  { title:"üåπ Rose Day", msg:"Like a rose, your smile fills my life with fragrance üåπ" },
    8:  { title:"üíç Propose Day", msg:"Every love story is beautiful, but ours is my favourite üíñ" },
    9:  { title:"üç´ Chocolate Day", msg:"Life is sweeter with you, just like chocolate üòç" },
    10: { title:"üß∏ Teddy Day", msg:"If I were a teddy, I‚Äôd stay in your arms forever ü§ó" },
    11: { title:"ü§ù Promise Day", msg:"I promise to love you more with every heartbeat ‚ù§Ô∏è" },
    12: { title:"ü§ó Hug Day", msg:"Your hug is my safest place üíï" },
    13: { title:"üíã Kiss Day", msg:"One kiss, a million emotions üòò" },
    14: { title:"‚ù§Ô∏è Valentine‚Äôs Day", msg:"You are my today and all my tomorrows üíñ" }
  };

  const day = new Date().getDate();
  return wishes[day] || {
    title:"‚ù§Ô∏è Love Day",
    msg:"Every single day with you is Valentine‚Äôs Day üíï"
  };
}

/* =========================
   üìß SEND MAIL (ONCE / DAY)
   ========================= */
function sendMailOnce(wish) {
  const todayKey = "mailSent_" + new Date().toDateString();
  if (localStorage.getItem(todayKey)) return;

  emailjs.send(SERVICE_ID, TEMPLATE_ID, {
    to_name: "Neha",
    subject: wish.title,
    message: wish.msg + "\n\n‚Äî Vinay ‚ù§Ô∏è"
  });

  localStorage.setItem(todayKey, "true");
}

/* =========================
   üíù POPUP + MUSIC
   ========================= */
function openPopup() {
  const wish = getTodayWish();

  document.getElementById("popupTitle").innerText = wish.title;
  document.getElementById("popupMessage").innerText = wish.msg;
  document.getElementById("popup").style.display = "flex";

  music.currentTime = 0;
  music.play().catch(()=>{});

  sendMailOnce(wish);
}

function closePopup() {
  document.getElementById("popup").style.display = "none";
}
</script>

</body>
</html>
